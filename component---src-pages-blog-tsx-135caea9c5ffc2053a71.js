"use strict";(self.webpackChunkchefyeum_github_io=self.webpackChunkchefyeum_github_io||[]).push([[410],{4459:function(e,t,o){o.r(t),o.d(t,{Head:function(){return i},default:function(){return u}});var n=o(7294),r=o(6068);var l=function(e,t){const{0:o,1:r}=(0,n.useState)(void 0);return{blogList:o,retrieveBlogList:function(o){void 0!==e&&Promise.all(o.map((async o=>{let n=await fetch(o);try{console.log(n);let o=await crypto.subtle.importKey("jwk",{key_ops:["encrypt","decrypt"],ext:!0,kty:"oct",k:t,alg:"A256GCM"},"AES-GCM",!0,["encrypt","decrypt"]);console.log(o);let r=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(e)},o,await n.arrayBuffer());return console.log(r),(new TextDecoder).decode(r)}catch(r){console.error(r)}}))).then((e=>{const t=e.filter((e=>void 0!==e));1!=t.length&&console.error(`Decrypted ${t.length} out of ${e.length}.`),r(t)}))}}},a=o(917);const i=()=>(0,a.tZ)("title",null,"ChefYeum - Blog");var u=e=>{var t;let{data:o,location:i}=e,u=null===(t=new URLSearchParams(i.search).get("iv"))||void 0===t?void 0:t.split(",").map(Number),{0:c,1:s}=(0,n.useState)(),{blogList:d,retrieveBlogList:p}=l(u,c);return(0,a.tZ)(n.Fragment,null,(0,a.tZ)(r.Z,null,(0,a.tZ)("main",null,void 0===u&&(0,a.tZ)("p",null,"In order to decrypt the blog, you must provide an initialisation vector. Contact Dee for how."),u&&void 0===d&&(0,a.tZ)("form",{style:{textAlign:"center"}},(0,a.tZ)("input",{autoFocus:!0,type:"password",style:{width:"95%",maxWidth:"600px",height:"2em"},onChange:e=>s(e.target.value),onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();let t=o.allFile.edges.map((e=>e.node.publicURL));0!=t.length?p(t):console.error("No blog urls found.")}}})),(0,a.tZ)(n.Fragment,null,0==(null==d?void 0:d.length)&&"Decryption failed..."),(0,a.tZ)(n.Fragment,null,null==d?void 0:d.map(((e,t)=>{return(0,a.tZ)("div",{key:t,dangerouslySetInnerHTML:{__html:(o=e,`<pre>${o}</pre>`)}});var o}))))))}}}]);
//# sourceMappingURL=component---src-pages-blog-tsx-135caea9c5ffc2053a71.js.map
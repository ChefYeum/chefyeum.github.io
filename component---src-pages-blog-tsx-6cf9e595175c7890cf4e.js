"use strict";(self.webpackChunkchefyeum_github_io=self.webpackChunkchefyeum_github_io||[]).push([[410],{4459:function(e,t,r){r.r(t),r.d(t,{Head:function(){return i},default:function(){return u}});var n=r(7294),o=r(6068);var l=function(e,t){const{0:r,1:o}=(0,n.useState)(void 0);return{blogList:r,retrieveBlogList:function(r){void 0!==e&&Promise.all(r.map((async r=>{let n=await fetch(r);try{console.log(n);let r=await crypto.subtle.importKey("jwk",{key_ops:["encrypt","decrypt"],ext:!0,kty:"oct",k:t,alg:"A256GCM"},"AES-GCM",!0,["encrypt","decrypt"]),o=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(e)},r,await n.arrayBuffer());return(new TextDecoder).decode(o)}catch(o){console.error(o)}}))).then((e=>{const t=e.filter((e=>void 0!==e));1!=t.length&&console.error(`Decrypted ${t.length} out of ${e.length}.`),o(t)}))}}},a=r(917);const i=()=>(0,a.tZ)("title",null,"ChefYeum - Blog");var u=e=>{var t;let{data:r,location:i}=e,u=null===(t=new URLSearchParams(i.search).get("iv"))||void 0===t?void 0:t.split(",").map(Number),{0:c,1:s}=(0,n.useState)(),{blogList:d,retrieveBlogList:p}=l(u,c);return(0,a.tZ)(n.Fragment,null,(0,a.tZ)(o.Z,null,(0,a.tZ)("main",null,void 0===u&&(0,a.tZ)("p",null,"In order to decrypt the blog, you must provide an initialisation vector. Contact Dee for how."),u&&void 0===d&&(0,a.tZ)("form",{style:{textAlign:"center"}},(0,a.tZ)("input",{autoFocus:!0,type:"password",style:{width:"95%",maxWidth:"600px",height:"2em"},onChange:e=>s(e.target.value),onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();let t=r.allFile.edges.map((e=>e.node.publicURL));0!=t.length?p(t):console.error("No blog urls found.")}}})),(0,a.tZ)(n.Fragment,null,0==(null==d?void 0:d.length)&&"Decryption failed..."),(0,a.tZ)(n.Fragment,null,null==d?void 0:d.map(((e,t)=>{return(0,a.tZ)("div",{key:t,dangerouslySetInnerHTML:{__html:(r=e,`<pre>${r}</pre>`)}});var r}))))))}}}]);
//# sourceMappingURL=component---src-pages-blog-tsx-6cf9e595175c7890cf4e.js.map